(this["webpackJsonpadmin-ui"]=this["webpackJsonpadmin-ui"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(10),s=c.n(r),l=(c(19),c(20),c(3)),i=c(8),o=c.n(i),d=c(11),u=c(13),j=c(14),b=function(e,t){var c=function(e){for(var t=e.length,c=Math.ceil(t/10),a={},n=0,r=0;r<c;r++)a[r+1]=e.slice(n,n+10),n+=10;return a};switch(t.type){case"LOADING":return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case"SHOW_INPUT":return Object(l.a)(Object(l.a)({},e),{},{inputValue:t.payload});case"LOAD_USERS":var a=c(t.payload);return Object(l.a)(Object(l.a)({},e),{},{userList:t.payload,pagination:a});case"FILTER_USERS":var n=c(t.payload);return console.log("filteredPages",n),Object(l.a)(Object(l.a)({},e),{},{filteredList:t.payload,pagination:n,currPage:1});case"SET_PAGE":return Object(l.a)(Object(l.a)({},e),{},{currPage:t.payload});case"REMOVE_ITEM":console.log("action.payload",typeof t.payload,e.userList);var r=e.userList.filter((function(e){return e.id!==t.payload}));return Object(l.a)(Object(l.a)({},e),{},{userList:r});case"LOAD_SELECTED":var s=[].concat(Object(j.a)(e.selectedUser),[t.payload]);return console.log("newSelected",s),Object(l.a)(Object(l.a)({},e),{},{selectedUser:s});case"UNLOAD_SELECTED":var i=e.selectedUser.filter((function(e){return e!==t.payload}));return console.log("unSelect",i),Object(l.a)(Object(l.a)({},e),{},{selectedUser:i});case"REMOVE_SELECTED":console.log("state.selectedUser",e.selectedUser),console.log("state.selectedUser",e.userList);var o=e.userList.filter((function(t){return!e.selectedUser.includes(t.id)}));return console.log("removeSelected",o),Object(l.a)(Object(l.a)({},e),{},{userList:o,selectedUser:[],inputValue:""});default:throw new Error("no matching action type")}},O=c(1),h=n.a.createContext(),p={isLoading:!1,userList:[],filteredList:[],selectedUser:[],pagination:{},currPage:1,checkAll:!1,inputValue:""};function x(e){var t=e.children,c=Object(a.useReducer)(b,p),n=Object(u.a)(c,2),r=n[0],s=n[1],i=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,s({type:"LOAD_USERS",payload:c}),s({type:"LOADING"}),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){i()}),[]),Object(a.useEffect)((function(){s({type:"LOAD_USERS",payload:r.userList})}),[r.userList]);return Object(O.jsxs)(h.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{handlePage:function(e){var t="",c=Object.keys(r.pagination);switch(c.includes(e)&&(t=e),e){case"next":var a=0;return console.log("state.currPage",c.length,r.currPage),a=r.currPage===c.length?1:r.currPage+1,void s({type:"SET_PAGE",payload:a});case"prev":var n=0;return n=1===r.currPage?c.length:r.currPage-1,void s({type:"SET_PAGE",payload:n});case"first":return console.log("first",e),void s({type:"SET_PAGE",payload:1});case"last":return void s({type:"SET_PAGE",payload:c.length});case t:return void s({type:"SET_PAGE",payload:Number(e)});default:return}},removeItem:function(e){console.log("id",e),s({type:"REMOVE_ITEM",payload:String(e)})},removeSelected:function(){s({type:"REMOVE_SELECTED"});var e=document.getElementById("checkBox-all");e.checked&&(e.checked=!1)},loadSelectedUsers:function(e,t){s(t?{type:"LOAD_SELECTED",payload:e}:{type:"UNLOAD_SELECTED",payload:e})},selectAllUsersPage:function(e){},filterUsers:function(e){s({type:"FILTER_USERS",payload:e})},setInputValue:function(e){s({type:"SHOW_INPUT",payload:e})}}),children:[t," "]})}var f=function(){return Object(a.useContext)(h)};var g=function(){var e=f(),t=e.userList,c=e.filterUsers,a=e.inputValue,n=e.setInputValue;return Object(O.jsxs)("form",{className:"admin-form",onSubmit:function(e){return e.preventDefault()},children:[Object(O.jsx)("h2",{children:"Admin UI"}),Object(O.jsx)("div",{className:"form-control",children:Object(O.jsx)("input",{type:"text",className:"admin-input",value:a,onChange:function(e){var a=e.target.value,r=t.filter((function(e){var t=e.name.toLocaleLowerCase(),c=e.email.toLocaleLowerCase(),n=e.role.toLocaleLowerCase();return t.startsWith(a)||c.startsWith(a)||n.startsWith(a)}));console.log("filteredList",r),c(r),n(a)},placeholder:"Search by name, email or role"})})]})},m=c(12),v=c(9);c(23);var y=function(e){var t=f(),c=t.handlePage,a=t.removeItem,n=t.removeSelected,r=e.id,s=e.children,l=e.text,i="btn ".concat(e.className);return Object(O.jsx)("button",{type:"button",className:i,id:r,"data-text":l,onClick:function(e){var t=e.currentTarget.dataset.text,r=e.currentTarget.id;c(t),["edit","delete"].includes(t)&&a(r),"delete-selected"===t&&(console.log("clicking Delete"),n())},children:s})};var E=function(e){var t=e.id,c=e.name,a=e.email,n=e.role,r=f().loadSelectedUsers;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",value:t,id:"chckBox-".concat(t),onChange:function(e){r(e.currentTarget.value,e.currentTarget.checked)}})}),Object(O.jsxs)("td",{children:[" ",c," "]})," ",Object(O.jsxs)("td",{children:[" ",a," "]})," ",Object(O.jsxs)("td",{children:[" ",n," "]}),Object(O.jsxs)("td",{children:[Object(O.jsx)(y,{className:"edit-btn icons",text:"edit",id:t,children:Object(O.jsx)(v.a,{})}),Object(O.jsx)(y,{className:"icons delete-icon",text:"delete",id:t,children:Object(O.jsx)(v.b,{})})]})]})};c(24);var L=function(){var e=f(),t=e.pagination,c=e.currPage,a=e.loadSelectedUsers;return console.log("pagination",t,c),Object(O.jsx)("div",{children:Object(O.jsxs)("table",{className:"user-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:Object(O.jsx)("input",{type:"checkbox",id:"checkBox-all",value:"all",onChange:function(e){console.log("object",e.currentTarget.checked);var n,r=e.currentTarget.checked,s=Object(m.a)(t[c]);try{for(s.s();!(n=s.n()).done;){var l=n.value,i=document.getElementById("chckBox-".concat(l.id));r?(i.checked=!0,a(i.value,i.checked)):(i.checked=!1,a(i.value,i.checked))}}catch(o){s.e(o)}finally{s.f()}}})}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Role"}),Object(O.jsx)("th",{children:"Actions"})]})}),Object(O.jsx)("tbody",{children:t[c].map((function(e){return Object(O.jsx)(E,{id:e.id,name:e.name,email:e.email,role:e.role},e.id)}))})]})})},S=c(6);var N=function(){var e=f().pagination,t=Object.keys(e).map((function(e){return Object(O.jsx)(y,{className:"page-btn",text:e,children:e},e)}));return Object(O.jsxs)("div",{className:"btn-container",children:[Object(O.jsx)(y,{className:"delete-btn",text:"delete-selected",id:"deleteId",children:"Delete Selectedtext"}),Object(O.jsxs)("div",{className:"page-container",children:[Object(O.jsx)(y,{className:"first-btn",text:"first",children:Object(O.jsx)(S.a,{})}),Object(O.jsx)(y,{className:"prev-btn",text:"prev",children:Object(O.jsx)(S.d,{})}),t,Object(O.jsx)(y,{className:"next-btn",text:"next",children:Object(O.jsx)(S.c,{})}),Object(O.jsx)(y,{className:"last-btn",text:"last",children:Object(O.jsx)(S.b,{})})]})]})};var U=function(){var e=f(),t=e.isLoading,c=e.pagination,a=0;return t&&(a=Object.keys(c).length,console.log("pages",a)),Object(O.jsxs)(O.Fragment,{children:[!t&&Object(O.jsx)("h2",{children:"Page is loading..."}),t&&Object(O.jsxs)("div",{className:"section-center",children:[Object(O.jsx)(g,{}),0===a&&Object(O.jsx)("h3",{className:"empty-list",children:"No Users to list down..."}),a>0&&Object(O.jsx)(L,{}),a>0&&Object(O.jsx)(N,{})]})]})};s.a.render(Object(O.jsxs)(n.a.StrictMode,{children:[Object(O.jsx)(x,{children:Object(O.jsx)(U,{})})," "]}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.fae10042.chunk.js.map